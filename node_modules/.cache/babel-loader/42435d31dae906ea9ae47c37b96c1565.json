{"ast":null,"code":"import axios from 'axios';\nimport { GET_USERS, COMPLETE_HOMEWORK } from '../actions/actions';\nconst initialState = {\n  users: []\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\nexport default (function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_USERS:\n      return { ...state,\n        users: action.users\n      };\n\n    case COMPLETE_HOMEWORK:\n      return { ...state,\n        users: action.users\n      };\n\n    default:\n      return state;\n  }\n});\nexport function getUsers() {\n  return dispatch => {\n    axios.get('/api/v1/users').then(_ref => {\n      let {\n        data\n      } = _ref;\n      return dispatch({\n        type: GET_USERS,\n        users: data.users\n      });\n    });\n  };\n}\nexport function completeHomework(first_name, work) {\n  return (dispatch, getState) => {\n    let {\n      users\n    } = getState().user;\n    users = users.reduce((acc, rec) => {\n      if (rec.first_name === first_name) {\n        return [...acc, { ...rec,\n          homeworks: work\n        }];\n      }\n\n      return [...acc, rec];\n    }, []);\n    axios.post('/api/v1/users/homeworks', {\n      first_name,\n      work\n    });\n    dispatch({\n      type: COMPLETE_HOMEWORK,\n      users\n    });\n  };\n}","map":{"version":3,"sources":["/Users/symbat.askarova33gmail.com/Desktop/program-js/src/client/redux/reducers/user.js"],"names":["axios","GET_USERS","COMPLETE_HOMEWORK","initialState","users","state","action","type","getUsers","dispatch","get","then","data","completeHomework","first_name","work","getState","user","reduce","acc","rec","homeworks","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,iBAApB,QAA6C,oBAA7C;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE;AADY,CAArB,C,CAIA;;AACA,gBAAe,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBF,YAAyB;AAAA,MAAXG,MAAW;;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKN,SAAL;AACE,aAAO,EAAE,GAAGI,KAAL;AAAYD,QAAAA,KAAK,EAAEE,MAAM,CAACF;AAA1B,OAAP;;AACF,SAAKF,iBAAL;AACE,aAAO,EAAE,GAAGG,KAAL;AAAYD,QAAAA,KAAK,EAAEE,MAAM,CAACF;AAA1B,OAAP;;AACF;AACE,aAAOC,KAAP;AANJ;AAQD,CATD;AAWA,OAAO,SAASG,QAAT,GAAoB;AACzB,SAAQC,QAAD,IAAc;AACnBT,IAAAA,KAAK,CAACU,GAAN,CAAU,eAAV,EAA2BC,IAA3B,CAAgC;AAAA,UAAC;AAAEC,QAAAA;AAAF,OAAD;AAAA,aAAcH,QAAQ,CAAC;AAAEF,QAAAA,IAAI,EAAEN,SAAR;AAAmBG,QAAAA,KAAK,EAAEQ,IAAI,CAACR;AAA/B,OAAD,CAAtB;AAAA,KAAhC;AACD,GAFD;AAGD;AAED,OAAO,SAASS,gBAAT,CAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;AACjD,SAAO,CAACN,QAAD,EAAWO,QAAX,KAAwB;AAC7B,QAAI;AAAEZ,MAAAA;AAAF,QAAYY,QAAQ,GAAGC,IAA3B;AACAb,IAAAA,KAAK,GAAGA,KAAK,CAACc,MAAN,CAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACjC,UAAIA,GAAG,CAACN,UAAJ,KAAmBA,UAAvB,EAAmC;AACjC,eAAO,CAAC,GAAGK,GAAJ,EAAS,EAAE,GAAGC,GAAL;AAAUC,UAAAA,SAAS,EAAEN;AAArB,SAAT,CAAP;AACD;;AACD,aAAO,CAAC,GAAGI,GAAJ,EAASC,GAAT,CAAP;AACD,KALO,EAKL,EALK,CAAR;AAMApB,IAAAA,KAAK,CAACsB,IAAN,CAAW,yBAAX,EAAsC;AAAER,MAAAA,UAAF;AAAcC,MAAAA;AAAd,KAAtC;AACAN,IAAAA,QAAQ,CAAC;AAAEF,MAAAA,IAAI,EAAEL,iBAAR;AAA2BE,MAAAA;AAA3B,KAAD,CAAR;AACD,GAVD;AAWD","sourcesContent":["import axios from 'axios'\r\nimport { GET_USERS, COMPLETE_HOMEWORK } from '../actions/actions'\r\n\r\nconst initialState = {\r\n  users: []\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_USERS:\r\n      return { ...state, users: action.users }\r\n    case COMPLETE_HOMEWORK:\r\n      return { ...state, users: action.users }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport function getUsers() {\r\n  return (dispatch) => {\r\n    axios.get('/api/v1/users').then(({ data }) => dispatch({ type: GET_USERS, users: data.users }))\r\n  }\r\n}\r\n\r\nexport function completeHomework(first_name, work) {\r\n  return (dispatch, getState) => {\r\n    let { users } = getState().user\r\n    users = users.reduce((acc, rec) => {\r\n      if (rec.first_name === first_name) {\r\n        return [...acc, { ...rec, homeworks: work }]\r\n      }\r\n      return [...acc, rec]\r\n    }, [])\r\n    axios.post('/api/v1/users/homeworks', { first_name, work })\r\n    dispatch({ type: COMPLETE_HOMEWORK, users })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}