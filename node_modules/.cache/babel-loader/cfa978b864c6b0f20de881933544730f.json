{"ast":null,"code":"import _slicedToArray from\"/Users/symbat.askarova33gmail.com/Desktop/program-js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import ReactMde from'react-mde';import*as Showdown from'showdown';import\"react-mde/lib/styles/css/react-mde-all.css\";import{useState}from'react';import{useDispatch}from'react-redux';import{createMessage}from\"../../redux/reducers/homeworks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var converter=new Showdown.Converter({tables:true,simplifiedAutoLink:true,strikethrough:true,tasklists:true});export default function CommentsMDE(_ref){var workId=_ref.workId,userName=_ref.userName;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var _React$useState=React.useState('write'),_React$useState2=_slicedToArray(_React$useState,2),selectedTab=_React$useState2[0],setSelectedTab=_React$useState2[1];var dispatch=useDispatch();var postComment=function postComment(){if(value.length<10){setAlert('Type at least 10 symbols');setTimeout(function(){setAlert('');},5000);}else{dispatch(createMessage(workId,{user:userName,message:value}));setValue('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"homework-comments__mde\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"homework-comments__mde-alert\",children:alert}),/*#__PURE__*/_jsx(ReactMde,{value:value,onChange:setValue,selectedTab:selectedTab,onTabChange:setSelectedTab,generateMarkdownPreview:function generateMarkdownPreview(markdown){return Promise.resolve(converter.makeHtml(markdown));}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"homework-comments__mde-post\",onClick:postComment,children:\"Send\"})]});}","map":{"version":3,"sources":["/Users/symbat.askarova33gmail.com/Desktop/program-js/src/client/components/homework/CommentsMDE.js"],"names":["React","ReactMde","Showdown","useState","useDispatch","createMessage","converter","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","CommentsMDE","workId","userName","value","setValue","alert","setAlert","selectedTab","setSelectedTab","dispatch","postComment","length","setTimeout","user","message","markdown","Promise","resolve","makeHtml"],"mappings":"0IAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,UAA1B,CACA,MAAO,4CAAP,CAEA,OAAQC,QAAR,KAAuB,OAAvB,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,OAAQC,aAAR,KAA4B,gCAA5B,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,GAAIJ,CAAAA,QAAQ,CAACK,SAAb,CAAuB,CACvCC,MAAM,CAAE,IAD+B,CAEvCC,kBAAkB,CAAE,IAFmB,CAGvCC,aAAa,CAAE,IAHwB,CAIvCC,SAAS,CAAE,IAJ4B,CAAvB,CAAlB,CAOA,cAAe,SAASC,CAAAA,WAAT,MAAyC,IAAnBC,CAAAA,MAAmB,MAAnBA,MAAmB,CAAXC,QAAW,MAAXA,QAAW,CACtD,cAA0BX,QAAQ,CAAC,EAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,eAA0Bb,QAAQ,CAAC,EAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eACA,oBAAsClB,KAAK,CAACG,QAAN,CAAe,OAAf,CAAtC,oDAAOgB,WAAP,qBAAoBC,cAApB,qBACA,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAEA,GAAMkB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIP,KAAK,CAACQ,MAAN,CAAe,EAAnB,CAAuB,CACrBL,QAAQ,CAAC,0BAAD,CAAR,CACAM,UAAU,CAAC,UAAM,CACbN,QAAQ,CAAC,EAAD,CAAR,CACD,CAFO,CAEN,IAFM,CAAV,CAGD,CALD,IAKO,CACLG,QAAQ,CAAChB,aAAa,CAACQ,MAAD,CAAS,CAACY,IAAI,CAAEX,QAAP,CAAiBY,OAAO,CAAEX,KAA1B,CAAT,CAAd,CAAR,CACAC,QAAQ,CAAC,EAAD,CAAR,CACD,CACF,CAVD,CAYA,mBACE,aAAK,SAAS,CAAC,wBAAf,wBACE,aAAM,SAAS,CAAC,8BAAhB,UAAgDC,KAAhD,EADF,cAEE,KAAC,QAAD,EACE,KAAK,CAAEF,KADT,CAEE,QAAQ,CAAEC,QAFZ,CAGE,WAAW,CAAEG,WAHf,CAIE,WAAW,CAAEC,cAJf,CAKE,uBAAuB,CAAE,iCAACO,QAAD,QAAcC,CAAAA,OAAO,CAACC,OAAR,CAAgBvB,SAAS,CAACwB,QAAV,CAAmBH,QAAnB,CAAhB,CAAd,EAL3B,EAFF,cASE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,6BAFZ,CAGE,OAAO,CAAEL,WAHX,kBATF,GADF,CAmBD","sourcesContent":["import * as React from 'react'\r\nimport ReactMde from 'react-mde'\r\nimport * as Showdown from 'showdown'\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nimport {useState} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {createMessage} from \"../../redux/reducers/homeworks\";\r\n\r\nconst converter = new Showdown.Converter({\r\n  tables: true,\r\n  simplifiedAutoLink: true,\r\n  strikethrough: true,\r\n  tasklists: true\r\n})\r\n\r\nexport default function CommentsMDE({workId, userName}) {\r\n  const [value, setValue] = useState('')\r\n  const [alert, setAlert] = useState('')\r\n  const [selectedTab, setSelectedTab] = React.useState('write')\r\n  const dispatch = useDispatch()\r\n\r\n  const postComment = () => {\r\n    if (value.length < 10) {\r\n      setAlert('Type at least 10 symbols')\r\n      setTimeout(() => {\r\n          setAlert('')\r\n        },5000)\r\n    } else {\r\n      dispatch(createMessage(workId, {user: userName, message: value}))\r\n      setValue('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"homework-comments__mde\">\r\n      <span className=\"homework-comments__mde-alert\">{alert}</span>\r\n      <ReactMde\r\n        value={value}\r\n        onChange={setValue}\r\n        selectedTab={selectedTab}\r\n        onTabChange={setSelectedTab}\r\n        generateMarkdownPreview={(markdown) => Promise.resolve(converter.makeHtml(markdown))}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className=\"homework-comments__mde-post\"\r\n        onClick={postComment}\r\n      >\r\n        Send\r\n      </button>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}