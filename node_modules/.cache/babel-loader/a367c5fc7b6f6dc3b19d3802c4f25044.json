{"ast":null,"code":"var _jsxFileName = \"/Users/symbat.askarova33gmail.com/Desktop/program-js/src/client/components/homework/CommentsMDE.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport ReactMde from 'react-mde';\nimport * as Showdown from 'showdown';\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { createMessage } from \"../../redux/reducers/homeworks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst converter = new Showdown.Converter({\n  tables: true,\n  simplifiedAutoLink: true,\n  strikethrough: true,\n  tasklists: true\n});\nexport default function CommentsMDE(_ref) {\n  _s();\n\n  let {\n    workId,\n    userName\n  } = _ref;\n  const [value, setValue] = useState('');\n  const [alert, setAlert] = useState('');\n  const [selectedTab, setSelectedTab] = React.useState('write');\n  const dispatch = useDispatch();\n\n  const postComment = () => {\n    if (value.length < 10) {\n      setAlert('Type at least 10 symbols');\n      setTimeout(() => {\n        setAlert('');\n      }, 5000);\n    } else {\n      dispatch(createMessage(workId, {\n        user: userName,\n        message: value\n      }));\n      setValue('');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homework-comments__mde\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"homework-comments__mde-alert\",\n      children: alert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactMde, {\n      value: value,\n      onChange: setValue,\n      selectedTab: selectedTab,\n      onTabChange: setSelectedTab,\n      generateMarkdownPreview: markdown => Promise.resolve(converter.makeHtml(markdown))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"homework-comments__mde-post\",\n      onClick: postComment,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CommentsMDE, \"lpQQ5nPUEgogFIiLhuIbOKkHIAY=\", false, function () {\n  return [useDispatch];\n});\n\n_c = CommentsMDE;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentsMDE\");","map":{"version":3,"sources":["/Users/symbat.askarova33gmail.com/Desktop/program-js/src/client/components/homework/CommentsMDE.js"],"names":["React","ReactMde","Showdown","useState","useDispatch","createMessage","converter","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","CommentsMDE","workId","userName","value","setValue","alert","setAlert","selectedTab","setSelectedTab","dispatch","postComment","length","setTimeout","user","message","markdown","Promise","resolve","makeHtml"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AACA,OAAO,4CAAP;AAEA,SAAQC,QAAR,QAAuB,OAAvB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,aAAR,QAA4B,gCAA5B;;AAEA,MAAMC,SAAS,GAAG,IAAIJ,QAAQ,CAACK,SAAb,CAAuB;AACvCC,EAAAA,MAAM,EAAE,IAD+B;AAEvCC,EAAAA,kBAAkB,EAAE,IAFmB;AAGvCC,EAAAA,aAAa,EAAE,IAHwB;AAIvCC,EAAAA,SAAS,EAAE;AAJ4B,CAAvB,CAAlB;AAOA,eAAe,SAASC,WAAT,OAAyC;AAAA;;AAAA,MAApB;AAACC,IAAAA,MAAD;AAASC,IAAAA;AAAT,GAAoB;AACtD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACgB,WAAD,EAAcC,cAAd,IAAgCpB,KAAK,CAACG,QAAN,CAAe,OAAf,CAAtC;AACA,QAAMkB,QAAQ,GAAGjB,WAAW,EAA5B;;AAEA,QAAMkB,WAAW,GAAG,MAAM;AACxB,QAAIP,KAAK,CAACQ,MAAN,GAAe,EAAnB,EAAuB;AACrBL,MAAAA,QAAQ,CAAC,0BAAD,CAAR;AACAM,MAAAA,UAAU,CAAC,MAAM;AACbN,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,OAFO,EAEN,IAFM,CAAV;AAGD,KALD,MAKO;AACLG,MAAAA,QAAQ,CAAChB,aAAa,CAACQ,MAAD,EAAS;AAACY,QAAAA,IAAI,EAAEX,QAAP;AAAiBY,QAAAA,OAAO,EAAEX;AAA1B,OAAT,CAAd,CAAR;AACAC,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACD;AACF,GAVD;;AAYA,sBACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA,4BACE;AAAM,MAAA,SAAS,EAAC,8BAAhB;AAAA,gBAAgDC;AAAhD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,QAAD;AACE,MAAA,KAAK,EAAEF,KADT;AAEE,MAAA,QAAQ,EAAEC,QAFZ;AAGE,MAAA,WAAW,EAAEG,WAHf;AAIE,MAAA,WAAW,EAAEC,cAJf;AAKE,MAAA,uBAAuB,EAAGO,QAAD,IAAcC,OAAO,CAACC,OAAR,CAAgBvB,SAAS,CAACwB,QAAV,CAAmBH,QAAnB,CAAhB;AALzC;AAAA;AAAA;AAAA;AAAA,YAFF,eASE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,6BAFZ;AAGE,MAAA,OAAO,EAAEL,WAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD;;GArCuBV,W;UAILR,W;;;KAJKQ,W","sourcesContent":["import * as React from 'react'\r\nimport ReactMde from 'react-mde'\r\nimport * as Showdown from 'showdown'\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nimport {useState} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {createMessage} from \"../../redux/reducers/homeworks\";\r\n\r\nconst converter = new Showdown.Converter({\r\n  tables: true,\r\n  simplifiedAutoLink: true,\r\n  strikethrough: true,\r\n  tasklists: true\r\n})\r\n\r\nexport default function CommentsMDE({workId, userName}) {\r\n  const [value, setValue] = useState('')\r\n  const [alert, setAlert] = useState('')\r\n  const [selectedTab, setSelectedTab] = React.useState('write')\r\n  const dispatch = useDispatch()\r\n\r\n  const postComment = () => {\r\n    if (value.length < 10) {\r\n      setAlert('Type at least 10 symbols')\r\n      setTimeout(() => {\r\n          setAlert('')\r\n        },5000)\r\n    } else {\r\n      dispatch(createMessage(workId, {user: userName, message: value}))\r\n      setValue('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"homework-comments__mde\">\r\n      <span className=\"homework-comments__mde-alert\">{alert}</span>\r\n      <ReactMde\r\n        value={value}\r\n        onChange={setValue}\r\n        selectedTab={selectedTab}\r\n        onTabChange={setSelectedTab}\r\n        generateMarkdownPreview={(markdown) => Promise.resolve(converter.makeHtml(markdown))}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className=\"homework-comments__mde-post\"\r\n        onClick={postComment}\r\n      >\r\n        Send\r\n      </button>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}