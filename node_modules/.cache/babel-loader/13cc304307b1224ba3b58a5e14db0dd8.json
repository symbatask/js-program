{"ast":null,"code":"import _toConsumableArray from\"/Users/symbat.askarova33gmail.com/Desktop/program-js/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/symbat.askarova33gmail.com/Desktop/program-js/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';import{GET_USERS,COMPLETE_HOMEWORK}from'../actions/actions';var initialState={users:[]};// eslint-disable-next-line import/no-anonymous-default-export\nexport default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_USERS:return _objectSpread(_objectSpread({},state),{},{users:action.users});case COMPLETE_HOMEWORK:return _objectSpread(_objectSpread({},state),{},{users:action.users});default:return state;}});export function getUsers(){return function(dispatch){axios.get('/api/v1/users').then(function(_ref){var data=_ref.data;return dispatch({type:GET_USERS,users:data.users});});};}export function completeHomework(first_name,work){return function(dispatch,getState){var users=getState().user.users;users=users.reduce(function(acc,rec){if(rec.first_name===first_name){return[].concat(_toConsumableArray(acc),[_objectSpread(_objectSpread({},rec),{},{homeworks:work})]);}return[].concat(_toConsumableArray(acc),[rec]);},[]);axios.post('/api/v1/users/homeworks',{first_name:first_name,work:work});dispatch({type:COMPLETE_HOMEWORK,users:users});};}","map":{"version":3,"sources":["/Users/symbat.askarova33gmail.com/Desktop/program-js/src/client/redux/reducers/user.js"],"names":["axios","GET_USERS","COMPLETE_HOMEWORK","initialState","users","state","action","type","getUsers","dispatch","get","then","data","completeHomework","first_name","work","getState","user","reduce","acc","rec","homeworks","post"],"mappings":"2RAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,iBAApB,KAA6C,oBAA7C,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAE,EADY,CAArB,CAIA;AACA,eAAe,UAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBF,YAAyB,IAAXG,CAAAA,MAAW,2CAC/C,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKN,CAAAA,SAAL,CACE,sCAAYI,KAAZ,MAAmBD,KAAK,CAAEE,MAAM,CAACF,KAAjC,GACF,IAAKF,CAAAA,iBAAL,CACE,sCAAYG,KAAZ,MAAmBD,KAAK,CAAEE,MAAM,CAACF,KAAjC,GACF,QACE,MAAOC,CAAAA,KAAP,CANJ,CAQD,CATD,EAWA,MAAO,SAASG,CAAAA,QAAT,EAAoB,CACzB,MAAO,UAACC,QAAD,CAAc,CACnBT,KAAK,CAACU,GAAN,CAAU,eAAV,EAA2BC,IAA3B,CAAgC,kBAAGC,CAAAA,IAAH,MAAGA,IAAH,OAAcH,CAAAA,QAAQ,CAAC,CAAEF,IAAI,CAAEN,SAAR,CAAmBG,KAAK,CAAEQ,IAAI,CAACR,KAA/B,CAAD,CAAtB,EAAhC,EACD,CAFD,CAGD,CAED,MAAO,SAASS,CAAAA,gBAAT,CAA0BC,UAA1B,CAAsCC,IAAtC,CAA4C,CACjD,MAAO,UAACN,QAAD,CAAWO,QAAX,CAAwB,CAC7B,GAAMZ,CAAAA,KAAN,CAAgBY,QAAQ,GAAGC,IAA3B,CAAMb,KAAN,CACAA,KAAK,CAAGA,KAAK,CAACc,MAAN,CAAa,SAACC,GAAD,CAAMC,GAAN,CAAc,CACjC,GAAIA,GAAG,CAACN,UAAJ,GAAmBA,UAAvB,CAAmC,CACjC,mCAAWK,GAAX,kCAAqBC,GAArB,MAA0BC,SAAS,CAAEN,IAArC,KACD,CACD,mCAAWI,GAAX,GAAgBC,GAAhB,GACD,CALO,CAKL,EALK,CAAR,CAMApB,KAAK,CAACsB,IAAN,CAAW,yBAAX,CAAsC,CAAER,UAAU,CAAVA,UAAF,CAAcC,IAAI,CAAJA,IAAd,CAAtC,EACAN,QAAQ,CAAC,CAAEF,IAAI,CAAEL,iBAAR,CAA2BE,KAAK,CAALA,KAA3B,CAAD,CAAR,CACD,CAVD,CAWD","sourcesContent":["import axios from 'axios'\r\nimport { GET_USERS, COMPLETE_HOMEWORK } from '../actions/actions'\r\n\r\nconst initialState = {\r\n  users: []\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_USERS:\r\n      return { ...state, users: action.users }\r\n    case COMPLETE_HOMEWORK:\r\n      return { ...state, users: action.users }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport function getUsers() {\r\n  return (dispatch) => {\r\n    axios.get('/api/v1/users').then(({ data }) => dispatch({ type: GET_USERS, users: data.users }))\r\n  }\r\n}\r\n\r\nexport function completeHomework(first_name, work) {\r\n  return (dispatch, getState) => {\r\n    let { users } = getState().user\r\n    users = users.reduce((acc, rec) => {\r\n      if (rec.first_name === first_name) {\r\n        return [...acc, { ...rec, homeworks: work }]\r\n      }\r\n      return [...acc, rec]\r\n    }, [])\r\n    axios.post('/api/v1/users/homeworks', { first_name, work })\r\n    dispatch({ type: COMPLETE_HOMEWORK, users })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}