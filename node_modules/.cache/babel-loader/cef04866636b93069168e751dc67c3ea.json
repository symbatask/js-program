{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{deleteComment,getComments}from\"../../redux/reducers/homeworks\";import{useParams}from\"react-router-dom\";import MarkdownToHtml from\"../MarkdownToHtml\";import CommentsMDE from\"./CommentsMDE\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var HwComments=function HwComments(_ref){var userName=_ref.userName;var comments=useSelector(function(s){return s.homeworks.comments;});var dispatch=useDispatch();var _useParams=useParams(),workId=_useParams.workId;useEffect(function(){dispatch(getComments(+workId,userName));},[dispatch,userName,workId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"homework-comments\",children:[comments.map(function(comment,id){return/*#__PURE__*/_jsxs(\"div\",{className:\"homework-comments__comment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"homework-comments__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"homework-comments__name\",children:[comment.user,\" sent a message:\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"homework-comments__delete-btn\",onClick:function onClick(){return dispatch(deleteComment(+workId,comment.date));},children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(MarkdownToHtml,{content:comment.message}),/*#__PURE__*/_jsx(\"div\",{className:\"homework-comments__date\",children:new Date(comment.date).toLocaleString(\"en-US\",{year:'numeric',month:'2-digit',weekday:'long',day:'2-digit',hour:'numeric',minute:'numeric'})})]},id);}),/*#__PURE__*/_jsx(CommentsMDE,{userName:userName,workId:workId})]});};export default HwComments;","map":{"version":3,"sources":["/Users/symbat.askarova33gmail.com/Desktop/program-js/src/client/components/homework/HomeworkComments.js"],"names":["useEffect","useDispatch","useSelector","deleteComment","getComments","useParams","MarkdownToHtml","CommentsMDE","HwComments","userName","comments","s","homeworks","dispatch","workId","map","comment","id","user","date","message","Date","toLocaleString","year","month","weekday","day","hour","minute"],"mappings":"AAAA,OAAQA,SAAR,KAAwB,OAAxB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,aAAR,CAAuBC,WAAvB,KAAyC,gCAAzC,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CACjC,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,CAAC,SAACS,CAAD,QAAOA,CAAAA,CAAC,CAACC,SAAF,CAAYF,QAAnB,EAAD,CAA5B,CAEA,GAAMG,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,eAAiBI,SAAS,EAA1B,CAAOS,MAAP,YAAOA,MAAP,CAEAd,SAAS,CAAC,UAAM,CACda,QAAQ,CAACT,WAAW,CAAC,CAACU,MAAF,CAAUL,QAAV,CAAZ,CAAR,CACD,CAFQ,CAEN,CAACI,QAAD,CAAWJ,QAAX,CAAqBK,MAArB,CAFM,CAAT,CAGA,mBACE,aAAK,SAAS,CAAC,mBAAf,WAEIJ,QAAQ,CAACK,GAAT,CAAa,SAACC,OAAD,CAAUC,EAAV,qBACX,aAAK,SAAS,CAAC,4BAAf,wBACE,aAAK,SAAS,CAAC,wBAAf,wBACE,aAAK,SAAS,CAAC,yBAAf,WAA0CD,OAAO,CAACE,IAAlD,sBADF,cAEE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,+BAFZ,CAGE,OAAO,CAAE,yBAAML,CAAAA,QAAQ,CAACV,aAAa,CAAC,CAACW,MAAF,CAAUE,OAAO,CAACG,IAAlB,CAAd,CAAd,EAHX,oBAFF,GADF,cAUE,KAAC,cAAD,EAAgB,OAAO,CAAEH,OAAO,CAACI,OAAjC,EAVF,cAWE,YAAK,SAAS,CAAC,yBAAf,UAA0C,GAAIC,CAAAA,IAAJ,CAASL,OAAO,CAACG,IAAjB,EACvCG,cADuC,CACxB,OADwB,CAEtC,CACEC,IAAI,CAAE,SADR,CAEEC,KAAK,CAAE,SAFT,CAGEC,OAAO,CAAE,MAHX,CAIEC,GAAG,CAAE,SAJP,CAKEC,IAAI,CAAE,SALR,CAMEC,MAAM,CAAE,SANV,CAFsC,CAA1C,EAXF,GAAiDX,EAAjD,CADW,EAAb,CAFJ,cA4BE,KAAC,WAAD,EAAa,QAAQ,CAAER,QAAvB,CAAiC,MAAM,CAAEK,MAAzC,EA5BF,GADF,CAgCD,CAzCD,CA0CA,cAAeN,CAAAA,UAAf","sourcesContent":["import {useEffect} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {deleteComment, getComments} from \"../../redux/reducers/homeworks\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport MarkdownToHtml from \"../MarkdownToHtml\";\r\nimport CommentsMDE from \"./CommentsMDE\";\r\n\r\n\r\nconst HwComments = ({userName}) => {\r\n  const comments = useSelector((s) => s.homeworks.comments)\r\n\r\n  const dispatch = useDispatch()\r\n  const {workId} = useParams()\r\n\r\n  useEffect(() => {\r\n    dispatch(getComments(+workId, userName))\r\n  }, [dispatch, userName, workId])\r\n  return (\r\n    <div className=\"homework-comments\">\r\n      {\r\n        comments.map((comment, id) => (\r\n          <div className=\"homework-comments__comment\" key={id}>\r\n            <div className=\"homework-comments__top\">\r\n              <div className=\"homework-comments__name\">{comment.user} sent a message:</div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"homework-comments__delete-btn\"\r\n                onClick={() => dispatch(deleteComment(+workId, comment.date))}\r\n              >\r\n                &#10005;</button>\r\n            </div>\r\n            <MarkdownToHtml content={comment.message}/>\r\n            <div className=\"homework-comments__date\">{new Date(comment.date)\r\n              .toLocaleString(\"en-US\",\r\n                {\r\n                  year: 'numeric',\r\n                  month: '2-digit',\r\n                  weekday: 'long',\r\n                  day: '2-digit',\r\n                  hour: 'numeric',\r\n                  minute: 'numeric'\r\n                }\r\n              )}</div>\r\n          </div>\r\n        ))\r\n      }\r\n      <CommentsMDE userName={userName} workId={workId}/>\r\n    </div>\r\n  )\r\n}\r\nexport default HwComments"]},"metadata":{},"sourceType":"module"}