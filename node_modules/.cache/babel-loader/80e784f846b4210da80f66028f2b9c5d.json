{"ast":null,"code":"import React,{useEffect,useMemo}from'react';import Head from\"../components/Head\";import EducationList from\"../components/education/EducationList\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from'react-router-dom';import'../components/education/education.scss';import EducationTasks from\"../components/education/EducationTasks\";import LinksHistory from\"../components/LinksHistory/LinksHistory\";import{getTasks,getWeeks}from\"../redux/reducers/weeks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Education=function Education(){var weeks=useSelector(function(s){return s.weeks.weeks;});var tasks=useSelector(function(s){return s.weeks.tasks;});var _useParams=useParams(),weekId=_useParams.weekId;var dispatch=useDispatch();// add scroll to element\nvar refTasks=/*#__PURE__*/React.createRef();var handleClick=function handleClick(){if(refTasks.current!==null){refTasks.current.scrollIntoView({behavior:'smooth',block:'center'});}};// END add scroll to element\nuseEffect(function(){if(!weeks.length)dispatch(getWeeks());},[dispatch,weeks.length]);var isOpenWeek=useMemo(function(){var _weeks$find;return(_weeks$find=weeks.find(function(week){return week.week===weekId;}))===null||_weeks$find===void 0?void 0:_weeks$find.isUnlock;},[weekId,weeks]);useEffect(function(){isOpenWeek&&dispatch(getTasks(weekId));},[dispatch,isOpenWeek,weekId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Head,{title:\"Education\"}),weekId&&/*#__PURE__*/_jsx(LinksHistory,{weekId:weekId}),/*#__PURE__*/_jsxs(\"section\",{className:\"education\",children:[/*#__PURE__*/_jsx(EducationList,{weeks:weeks,weekId:weekId,handleClick:handleClick}),weekId&&/*#__PURE__*/_jsx(EducationTasks,{weekId:weekId,tasks:tasks,refTasks:refTasks})]})]});};export default Education;","map":{"version":3,"sources":["/Users/symbat.askarova33gmail.com/Desktop/program-js/src/client/scenes/Education.js"],"names":["React","useEffect","useMemo","Head","EducationList","useDispatch","useSelector","useParams","EducationTasks","LinksHistory","getTasks","getWeeks","Education","weeks","s","tasks","weekId","dispatch","refTasks","createRef","handleClick","current","scrollIntoView","behavior","block","length","isOpenWeek","find","week","isUnlock"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,OAA1B,KAAwC,OAAxC,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,aAAP,KAA0B,uCAA1B,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAO,wCAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,wCAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,yCAAzB,CACA,OAAQC,QAAR,CAAkBC,QAAlB,KAAiC,yBAAjC,C,6IAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAMC,CAAAA,KAAK,CAAGP,WAAW,CAAC,SAACQ,CAAD,QAAOA,CAAAA,CAAC,CAACD,KAAF,CAAQA,KAAf,EAAD,CAAzB,CACA,GAAME,CAAAA,KAAK,CAAGT,WAAW,CAAC,SAACQ,CAAD,QAAOA,CAAAA,CAAC,CAACD,KAAF,CAAQE,KAAf,EAAD,CAAzB,CACA,eAAiBR,SAAS,EAA1B,CAAOS,MAAP,YAAOA,MAAP,CACA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAGA;AACA,GAAMa,CAAAA,QAAQ,cAAGlB,KAAK,CAACmB,SAAN,EAAjB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIF,QAAQ,CAACG,OAAT,GAAqB,IAAzB,CAA+B,CAC7BH,QAAQ,CAACG,OAAT,CAAiBC,cAAjB,CAAgC,CAC9BC,QAAQ,CAAE,QADoB,CAE9BC,KAAK,CAAE,QAFuB,CAAhC,EAID,CACF,CAPD,CAQA;AAEAvB,SAAS,CAAC,UAAM,CACd,GAAI,CAACY,KAAK,CAACY,MAAX,CACER,QAAQ,CAACN,QAAQ,EAAT,CAAR,CACH,CAHQ,CAGN,CAACM,QAAD,CAAWJ,KAAK,CAACY,MAAjB,CAHM,CAAT,CAKA,GAAMC,CAAAA,UAAU,CAAGxB,OAAO,CAAC,8CAAMW,KAAK,CAACc,IAAN,CAAW,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACA,IAAL,GAAcZ,MAAlB,EAAf,CAAN,sCAAM,YAA0Ca,QAAhD,EAAD,CAA2D,CAACb,MAAD,CAASH,KAAT,CAA3D,CAA1B,CAEAZ,SAAS,CAAC,UAAM,CACdyB,UAAU,EAAIT,QAAQ,CAACP,QAAQ,CAACM,MAAD,CAAT,CAAtB,CACD,CAFQ,CAEN,CAACC,QAAD,CAAWS,UAAX,CAAuBV,MAAvB,CAFM,CAAT,CAIA,mBACE,wCACE,KAAC,IAAD,EAAM,KAAK,CAAC,WAAZ,EADF,CAGGA,MAAM,eAAI,KAAC,YAAD,EAAc,MAAM,CAAEA,MAAtB,EAHb,cAIE,iBAAS,SAAS,CAAC,WAAnB,wBACE,KAAC,aAAD,EAAe,KAAK,CAAEH,KAAtB,CAA6B,MAAM,CAAEG,MAArC,CAA6C,WAAW,CAAEI,WAA1D,EADF,CAEGJ,MAAM,eAAI,KAAC,cAAD,EAAgB,MAAM,CAAEA,MAAxB,CAAgC,KAAK,CAAED,KAAvC,CAA8C,QAAQ,CAAEG,QAAxD,EAFb,GAJF,GADF,CAWD,CA1CD,CA4CA,cAAeN,CAAAA,SAAf","sourcesContent":["import React, {useEffect, useMemo} from 'react'\r\nimport Head from \"../components/Head\";\r\nimport EducationList from \"../components/education/EducationList\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useParams} from 'react-router-dom'\r\nimport '../components/education/education.scss'\r\nimport EducationTasks from \"../components/education/EducationTasks\";\r\nimport LinksHistory from \"../components/LinksHistory/LinksHistory\";\r\nimport {getTasks, getWeeks} from \"../redux/reducers/weeks\";\r\n\r\nconst Education = () => {\r\n  const weeks = useSelector((s) => s.weeks.weeks)\r\n  const tasks = useSelector((s) => s.weeks.tasks)\r\n  const {weekId} = useParams()\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  // add scroll to element\r\n  const refTasks = React.createRef();\r\n\r\n  const handleClick = () => {\r\n    if (refTasks.current !== null) {\r\n      refTasks.current.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'center',\r\n      });\r\n    }\r\n  }\r\n  // END add scroll to element\r\n\r\n  useEffect(() => {\r\n    if (!weeks.length)\r\n      dispatch(getWeeks())\r\n  }, [dispatch, weeks.length])\r\n\r\n  const isOpenWeek = useMemo(() => weeks.find(week => week.week === weekId)?.isUnlock, [weekId, weeks])\r\n\r\n  useEffect(() => {\r\n    isOpenWeek && dispatch(getTasks(weekId))\r\n  }, [dispatch, isOpenWeek, weekId])\r\n\r\n  return (\r\n    <>\r\n      <Head title=\"Education\">\r\n      </Head>\r\n      {weekId && <LinksHistory weekId={weekId}/>}\r\n      <section className=\"education\">\r\n        <EducationList weeks={weeks} weekId={weekId} handleClick={handleClick}/>\r\n        {weekId && <EducationTasks weekId={weekId} tasks={tasks} refTasks={refTasks}/>}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Education"]},"metadata":{},"sourceType":"module"}