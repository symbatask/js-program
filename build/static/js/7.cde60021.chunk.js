(this.webpackJsonpitniksam=this.webpackJsonpitniksam||[]).push([[7],{109:function(e,t,n){"use strict";var s=n(121),c=n.n(s),o=n(135),r=n(136),a=n(137),i=n(149),m=n(0),j=n(570),u=n(140),l=n(1),d=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.value;return Object(l.jsx)(j.a,{language:"javascript",style:u.atomOneDark,children:e})}}]),n}(m.PureComponent),b=d;t.a=function(e){var t=e.content;return Object(l.jsx)("div",{className:"custom-html-style ",children:Object(l.jsx)(c.a,{source:t,renderers:{code:b},escapeHtml:!1})})}},153:function(e,t,n){},571:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(36),o=n(7),r=n(37),a=n(23),i=n.n(a),m=n(21),j=n(1),u=function(e){var t=e.homeworks,n=e.workId,s=e.user;return Object(j.jsx)("div",{className:"homework-list__items",children:t.map((function(e){return Object(j.jsxs)("div",{className:i()("homework-list__item",{active:+n===e.work}),onClick:function(){e.isUnlock&&m.b.push("/homework/list/".concat(e.work))},children:[Object(j.jsxs)("div",{className:"homework-list__id",children:["Homework ",e.work,s.homeworks.includes(e.work)&&Object(j.jsx)("span",{className:"homework-list__check",children:"\u2714"})]}),Object(j.jsx)("div",{className:"homework-list__name",children:e.name}),Object(j.jsx)("div",{className:"homework-list__date",children:new Date(e.date).toDateString()}),e.isUnlock||Object(j.jsxs)("div",{className:"homework-list__close",children:[Object(j.jsx)("i",{className:"fas fa-lock"})," Homework closed"]})]},e.work)}))})},l=n(6),d=(n(153),n(28)),b=n(109),h=function(e){var t=e.homeworks,n=e.workId,c=Object(o.d)(),r=Object(s.useState)({content:""}),a=Object(d.a)(r,2),i=a[0],m=a[1];return Object(s.useEffect)((function(){t.length>0&&m(t.find((function(e){return e.work===+n})))}),[c,t,n]),Object(j.jsx)(b.a,{content:i.content})},k=n(141),O=n.n(k),w=n(564),f=(n(565),new w.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0}));function x(e){var t=e.workId,n=e.userName,c=Object(s.useState)(""),a=Object(d.a)(c,2),i=a[0],m=a[1],u=Object(s.useState)(""),l=Object(d.a)(u,2),b=l[0],h=l[1],k=s.useState("write"),w=Object(d.a)(k,2),x=w[0],v=w[1],_=Object(o.d)();return Object(j.jsxs)("div",{className:"homework-comments__mde",children:[Object(j.jsx)("span",{className:"homework-comments__mde-alert",children:b}),Object(j.jsx)(O.a,{value:i,onChange:m,selectedTab:x,onTabChange:v,generateMarkdownPreview:function(e){return Promise.resolve(f.makeHtml(e))}}),Object(j.jsx)("button",{type:"button",className:"homework-comments__mde-post",onClick:function(){i.length<10?(h("Type at least 10 symbols"),setTimeout((function(){h("")}),5e3)):(_(Object(r.a)(t,{user:n,message:i})),m(""))},children:"Send"})]})}var v=function(e){var t=e.userName,n=Object(o.e)((function(e){return e.homeworks.comments})),c=Object(o.d)(),a=Object(l.h)().workId;return Object(s.useEffect)((function(){c(Object(r.d)(+a,t))}),[c,t,a]),Object(j.jsxs)("div",{className:"homework-comments",children:[n.map((function(e,t){return Object(j.jsxs)("div",{className:"homework-comments__comment",children:[Object(j.jsxs)("div",{className:"homework-comments__top",children:[Object(j.jsxs)("div",{className:"homework-comments__name",children:[e.user," sent a message:"]}),Object(j.jsx)("button",{type:"button",className:"homework-comments__delete-btn",onClick:function(){return c(Object(r.c)(+a,e.date))},children:"\u2715"})]}),Object(j.jsx)(b.a,{content:e.message}),Object(j.jsx)("div",{className:"homework-comments__date",children:new Date(e.date).toLocaleString("en-US",{year:"numeric",month:"2-digit",weekday:"long",day:"2-digit",hour:"numeric",minute:"numeric"})})]},t)})),Object(j.jsx)(x,{userName:t,workId:a})]})};t.default=function(){var e=Object(o.e)((function(e){return e.homeworks.homeworks})),t=Object(o.e)((function(e){return e.signIn.user})),n=Object(o.d)(),a=Object(l.h)().workId;return Object(s.useEffect)((function(){e.length||n(Object(r.e)())}),[n,e.length]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(c.a,{title:"Homework"}),Object(j.jsxs)("section",{className:"homework",children:[Object(j.jsx)(u,{homeworks:e,workId:a,user:t}),Object(j.jsxs)("div",{className:"homework-content",children:[Object(j.jsx)(l.b,{path:"/homework/list/:workId",exact:!0,component:function(){return Object(j.jsx)(h,{homeworks:e,workId:a})}}),Object(j.jsx)(l.b,{path:"/homework/list/:workId",exact:!0,component:function(){return Object(j.jsx)(v,{userName:t.first_name})}})]})]})]})}}}]);
//# sourceMappingURL=7.cde60021.chunk.js.map